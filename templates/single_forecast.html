{% extends 'base.html' %}

{% block title %} {{ forecast['valid_date'] }} {% endblock %}

{% block content %}
<h1 class="display-3">Weather for {{ forecast['valid_date'] }}</h1>
<div>
    {% set weather_icon = forecast['weather']['icon'] %}
</div>
<div class="d-flex justify-content-center align-items-center">
<div class="card text-bg-secondary border-dark forecast-card" style="width: 18rem;" data-date="{{ forecast['valid_date'] }}">
    <img src="/static/icons/{{ weather_icon }}.png" class="card-img-top" alt="{{ forecast['weather']['description'] }} icon">
    <div class="card-body">
      <h5 class="card-title">Weather in {{ user.preference.location }} for {{ forecast['valid_date'] }}</h5>
      <p class="card-text">Your forecast is {{ forecast['weather']['description'] }} in {{ user.preference.location }}.</p>
      <ul>
        <li>High of the day: {{ forecast['max_temp'] }}&deg;{{ user.preference.temp_unit }}</li>
        <li>Low of the day: {{ forecast['min_temp'] }}&deg;{{ user.preference.temp_unit }}</li>
        <li>Wind Direction: {{ forecast['wind_cdir'] }}</li>
        <li>Wind Speed: {{ forecast['wind_spd'] }} MPH</li>
        <li>Gusts up to: {{ forecast['wind_gust_spd'] }} MPH</li>
        <li>Visibility: {{ forecast['vis'] }} NM</li>
        <li>Dewpoint: {{ forecast['dewpt'] }}&deg;{{ user.preference.temp_unit }}</li>
    </ul>
    </div>
</div>
  </div>
  <div class="ideal-dive-time">
    <p>Ideal Dive Time: {{ ideal_dive_time }}</p>
{% if matched_tide_time %}
<p>Matched Tide Time: {{ matched_tide_time }}</p>
{% else %}
<p>No matched tide time found for your preference.</p>
{% endif %}
</div>
{% endblock %}
